\tdplotsetmaincoords{-20}{-40}
\begin{tikzpicture}[tdplot_main_coords,rotate=-40]
\def\opening{0.5}
		\begin{scope}[zyplane=1]
			\draw[thick] (0,0) circle (\opening cm);
		\end{scope}
		\begin{scope}[zyplane=9]
			\draw[thick] (0,0) circle (\opening cm);
		\end{scope}[draw=thick]
		\draw[] (1,\opening) -- (1,3) -- (2,3);
		\draw[] (1,-\opening) -- (1,-3) -- (2,-3);
		\draw[] (9,\opening) -- (9,3) -- (8,3);
		\draw[] (9,-\opening) -- (9,-3) -- (8,-3);
		%%% upper magnets
		\begin{scope}[shift={(2,1.5)},scale=0.5]
			\draw[fill=helsinkimorning] (0,3,1) -- (0,1,1) -- (4,1,1) -- (4,3,1) -- cycle;
			\draw[fill=helsinkimorning] (0,1,1) -- (0,0,0) -- (4,0,0) -- (4,1,1) -- cycle; 
			\draw[fill=helsinkimorning] (4,0,0) -- (4,1,-1) -- (4,3,-1) -- (4,3,1) -- (4,1,1) -- cycle; 
			\draw[fill=helsinkimorning] (0,3,1) -- (4,3,1) -- (4,3,-1) -- (0,3,-1) -- cycle;
			\node[white] (nul) at (2,2,1) {$N$};
		\end{scope}
		\begin{scope}[shift={(4,1.5)},scale=0.5]
			\draw[fill=rioday] (0,3,1) -- (0,1,1) -- (4,1,1) -- (4,3,1) -- cycle;
			\draw[fill=rioday] (0,1,1) -- (0,0,0) -- (4,0,0) -- (4,1,1) -- cycle; 
			\draw[fill=rioday] (4,0,0) -- (4,1,-1) -- (4,3,-1) -- (4,3,1) -- (4,1,1) -- cycle; 
			\draw[fill=rioday] (0,3,1) -- (4,3,1) -- (4,3,-1) -- (0,3,-1) -- cycle;
			\node[] (sum) at (2,2,1) {$S$};
		\end{scope}
		\begin{scope}[shift={(6,1.5)},scale=0.5]
			\draw[fill=helsinkimorning] (0,3,1) -- (0,1,1) -- (4,1,1) -- (4,3,1) -- cycle;
			\draw[fill=helsinkimorning] (0,1,1) -- (0,0,0) -- (4,0,0) -- (4,1,1) -- cycle; 
			\draw[fill=helsinkimorning] (4,0,0) -- (4,1,-1) -- (4,3,-1) -- (4,3,1) -- (4,1,1) -- cycle; 
			\draw[fill=helsinkimorning] (0,3,1) -- (4,3,1) -- (4,3,-1) -- (0,3,-1) -- cycle;
			\node[white] (nur) at (2,2,1) {$N$};
		\end{scope}
		%%% lower magnets
		\begin{scope}[shift={(2,-1.5)},scale=0.5]
			\draw[fill=rioday] (0,0,1) -- (4,0,1) -- (4,0,-1) -- (0,0,-1) -- cycle;
			\draw[fill=rioday] (0,0,1) -- (0,-3,1) -- (4,-3,1) -- (4,0,1) -- cycle;
			\draw[fill=rioday] (4,0,1) -- (4,-3,1) -- (4,-3,-1) -- (4,0,-1) -- cycle;
			\node[] (nll) at (2,-1.5,1) {$S$};
		\end{scope}
		\begin{scope}[shift={(4,-1.5)},scale=0.5]
			\draw[fill=helsinkimorning] (0,0,1) -- (4,0,1) -- (4,0,-1) -- (0,0,-1) -- cycle;
			\draw[fill=helsinkimorning] (0,0,1) -- (0,-3,1) -- (4,-3,1) -- (4,0,1) -- cycle;
			\draw[fill=helsinkimorning] (4,0,1) -- (4,-3,1) -- (4,-3,-1) -- (4,0,-1) -- cycle;
			\node[white] (n) at (2,-1.5,1) {$N$};
		\end{scope}
		\begin{scope}[shift={(6,-1.5)},scale=0.5]
			\draw[fill=rioday] (0,0,1) -- (4,0,1) -- (4,0,-1) -- (0,0,-1) -- cycle;
			\draw[fill=rioday] (0,0,1) -- (0,-3,1) -- (4,-3,1) -- (4,0,1) -- cycle;
			\draw[fill=rioday] (4,0,1) -- (4,-3,1) -- (4,-3,-1) -- (4,0,-1) -- cycle;
			\node[] (nll) at (2,-1.5,1) {$S$};
		\end{scope}
		\foreach \w/\x/\y/\z in {plus/0.5/+\left| \vec{\mu} \right|/$+$,zero/0/0\;\left| \vec{\mu} \right|/$0$,minus/-0.5/-\left| \vec{\mu} \right|/$-$}
		{
			\draw[domain=1:2,line width=2pt,line cap=round] plot[parametric,id=sga\x,smasa] function{t,\x/4};
			\draw[domain=0:2,line width=2pt,line cap=round] plot[parametric,id=sgb\x,smasa] function{t+2,(\x+\x*t**2)/4};
			\draw[domain=0:2,line width=2pt,line cap=round] plot[parametric,id=sgc\x,smasa] function{-t+8,(\x+\x*t**2)/4};
			%%% zwischenfkt
			\draw[domain=0:2,line width=2pt,line cap=round] plot[parametric,id=sgd\x,smasa] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/4};
			\path[domain=0:1,line width=2pt,line cap=round] plot[parametric,id=sge\x,samples=2] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/4} coordinate (c\w);
			\draw[domain=8:9,line width=2pt,line cap=round] plot[parametric,id=sgf\x,smasa] function{t,\x/4};
			%\node[circle,draw,thick,fill=white,minimum size=0.75cm] (n\w) at (c\w) {\z};
			\draw[yxplane=0,fill=white,thick] (c\w) circle (0.375cm);
			\node[] (n\w) at (c\w) {\z};
		}
\end{tikzpicture}
