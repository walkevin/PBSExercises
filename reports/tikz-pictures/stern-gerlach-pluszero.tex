%\includegraphics[width=8cm]{./figures/stern-gerlach-pluszero.pdf}
\begin{tikzpicture}[scale=0.5]
		\def\openingheight{0.5}
	\begin{scope}
			\node[rectangle,draw,minimum width=3.5cm,minimum height=2cm,label=below:filter 1] (r1) at (5,0) {};
			\node[rectangle,fill=white,minimum width=1cm,minimum height=\openingheight cm] (lr1) at (2,0) {};
			\node[rectangle,fill=white,minimum width=1cm,minimum height=\openingheight cm] (rr1) at (8,0) {};
			\foreach \w/\x/\y/\z in {plus/0.5/+\left| \vec{\mu} \right|/\!\mathbf +\!}
			{
				\def\plotheight{3}
				\def\beamlinewidth{1}
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssga\x,smasa] function{t,\x/\plotheight};
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgb\x,smasa] function{t+2,(\x+\x*t**2)/\plotheight};
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgc\x,smasa] function{-t+8,(\x+\x*t**2)/\plotheight};
				%%% zwischenfkt
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgd\x,smasa] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight};
				\path[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssge\x,samples=2] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight} coordinate (c\w);
				\draw[domain=8:10,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgf\x,smasa] function{t,\x/\plotheight};
				\node[circle,draw,fill=white,minimum size=0.025cm] (n\w) at (c\w) {$\scriptscriptstyle\z$};
			}
			\foreach \w/\x/\y/\z in {zero/0/0\;\left| \vec{\mu} \right|/\mathbf 0}
			{
				\def\plotheight{3}
				\def\beamlinewidth{1}
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssga\x,smasa] function{t,\x/\plotheight};
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgb\x,smasa] function{t+2,(\x+\x*t**2)/\plotheight};
				%%% zwischenfkt
				\draw[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgd\x,smasa] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight};
				\path[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssge\x,samples=2] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight} coordinate (c\w);
				\node[circle,draw,fill=black,text=white,minimum size=0.025cm] (n\w) at (c\w) {$\scriptscriptstyle\z$};
			}
			\foreach \w/\x/\y/\z in {minus/-0.5/-\left| \vec{\mu} \right|/\!\mathbf-\!}
			{
				%\draw[domain=4:6] plot[id=sgsquare\x,parametric] function{(t+\x),(t+\x-4)**2};
				\def\plotheight{3}
				\def\beamlinewidth{1}
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssga\x,smasa] function{t,\x/\plotheight};
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgb\x,smasa] function{t+2,(\x+\x*t**2)/\plotheight};
				%\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgc\x,smasa] function{-t+8,(\x+\x*t**2)/\plotheight};
				%%% zwischenfkt
				\draw[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgd\x,smasa] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight};
				\path[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssge\x,samples=2] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight} coordinate (c\w);
				%\draw[domain=8:9,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgf\x,smasa] function{t,\x/\plotheight};
				\node[circle,draw,fill=black,text=white,minimum size=0.025cm] (n\w) at (c\w) {$\scriptscriptstyle\z$};
			}
			\node[] (e1) at (10,-1em) {$\ket{\hat{z},+}$};
	\end{scope}
	\begin{scope}[xshift=10cm]
			\node[rectangle,draw,minimum width=3.5cm,minimum height=2cm,label=below:filter 2] (r2) at (5,0) {};
			\node[rectangle,fill=white,minimum width=1cm,minimum height=\openingheight cm] (lr2) at (2,0) {};
			\node[rectangle,fill=white,minimum width=1cm,minimum height=\openingheight cm] (rr2) at (8,0) {};
			\foreach \w/\x/\y/\z in {plus/0.5/+\left| \vec{\mu} \right|/\!\mathbf +\!}
			{
				%\draw[domain=4:6] plot[id=sgsquare\x,parametric] function{(t+\x),(t+\x-4)**2};
				\def\plotheight{3}
				\def\beamlinewidth{1}
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssga\x,smasa] function{t,\x/\plotheight};
				\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgb\x,smasa] function{t+2,(\x+\x*t**2)/\plotheight};
				%\draw[domain=0:2,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgc\x,smasa] function{-t+8,(\x+\x*t**2)/\plotheight};
				%%% zwischenfkt
				\draw[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgd\x,smasa] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight};
				\path[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssge\x,samples=2] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight} coordinate (c\w);
				%\draw[domain=8:10,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgf\x,smasa] function{t,\x/\plotheight};
				\node[circle,draw,fill=black,text=white,minimum size=0.025cm] (n\w) at (c\w) {$\scriptscriptstyle\z$};
			}
			\foreach \w/\x/\y/\z in {zero/0/0\;\left| \vec{\mu} \right|/\mathbf 0}
			{
				%\draw[domain=4:6] plot[id=sgsquare\x,parametric] function{(t+\x),(t+\x-4)**2};
				\def\plotheight{3}
				\def\beamlinewidth{1}
				%%% zwischenfkt
				\path[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssge\x,samples=2] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight} coordinate (c\w);
				%\draw[domain=8:9,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssgf\x,smasa] function{t,\x/\plotheight};
				\node[circle,draw,fill=white,minimum size=0.025cm] (n\w) at (c\w) {$\scriptscriptstyle\z$};
			}
			\foreach \w/\x/\y/\z in {minus/-0.5/-\left| \vec{\mu} \right|/\!\mathbf -\!}
			{
				\def\plotheight{3}
				\def\beamlinewidth{1}
				\path[domain=0:1,line width=\beamlinewidth pt,line cap=round] plot[parametric,id=ssge\x,samples=2] function{t+4,(4*\x*t+5*\x-2*\x*t**2)/\plotheight} coordinate (c\w);
				\node[circle,draw,fill=black,text=white,minimum size=0.025cm] (n\w) at (c\w) {$\scriptscriptstyle\z$};
			}
			\node[] (e2) at (10,-1em) {$\ket{\hat{z},0}$};
	\end{scope}
\end{tikzpicture}
