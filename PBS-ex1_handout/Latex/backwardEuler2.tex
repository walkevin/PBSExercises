\documentclass[a4paper,10pt]{minimal}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}


\begin{document}
{\bfseries Backward Euler update formula derivation}\\
General update formula
\begin{equation}
 y_{k+1} = y_k + dt \cdot f(t_{k+1}, y{k+1})
\end{equation}

In concrete terms for the equations of motion, it is
\begin{subequations}
 \begin{align}
  x_{k+1} &= x_k + dt \cdot v_{k+1}
  \label{eq:xkp1}\\
  v_{k+1} &= v_k + dt \cdot \left( \frac{k(-x_{k+1} -L)}{m} - \frac{d\cdot v_{k+1}}{m} -g \right)
  \label{eq:vkp1}
 \end{align}
\end{subequations}

Insert \eqref{eq:xkp1} into \eqref{eq:vkp1} and reorder.

\begin{subequations}
 \begin{align}
  v_{k+1} &= v_k + dt \cdot \left( \frac{k(-x_{k+1} -L)}{m} - \frac{d\cdot v_{k+1}}{m} -g \right)\\
          &= dt\left(-\frac{k}{m}dt - \frac{d}{m}\right) v_{k+1} + v_k + dt\left( \frac{k}{m}(-x_k-L)-g \right)\\
          &= \frac{ v_k -dt \left(\frac{k}{m} (x_k + L) -g \right)}{1+dt \left( \frac{k\cdot dt + d}{m} \right)}
 \end{align}
\end{subequations}


\end{document}
